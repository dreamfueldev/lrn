.TH LRN 1 "January 2026" "lrn 0.1.0" "User Commands"
.SH NAME
lrn \- universal CLI for learning and querying programming interfaces
.SH SYNOPSIS
.B lrn
[\fIoptions\fR]
.br
.B lrn
\fIpackage\fR [\fIoptions\fR]
.br
.B lrn
\fIpackage\fR \fIcommand\fR [\fIargs\fR] [\fIoptions\fR]
.br
.B lrn
\fIpackage\fR \fImember.path\fR [\fIoptions\fR]
.SH DESCRIPTION
.B lrn
provides token-efficient access to programming interface documentation. It enables progressive discovery of API documentation, delivering exactly the information needed without loading full documentation.
.PP
.B lrn
is designed for both humans and LLMs. It supports structured output formats (JSON) for programmatic consumption and readable text for interactive use.
.PP
Documentation is stored locally for fast, offline querying. Packages are synced from the lrn registry or loaded from local files.
.SH COMMANDS
.SS Discovery Commands
.TP
.B lrn
List all cached packages with their versions and summaries.
.TP
.B lrn sync
Sync package documentation for project dependencies. Reads from \fBlrn.config.json\fR or \fBpackage.json\fR.
.TP
.B lrn add \fIpackage\fR[@\fIversion\fR]
Add a package to the local cache and update \fBlrn.config.json\fR.
.TP
.B lrn remove \fIpackage\fR
Remove a package from the local cache and \fBlrn.config.json\fR.
.TP
.B lrn versions \fIpackage\fR
List available versions for a package in the registry.
.SS Package Commands
.TP
.B lrn \fIpackage\fR
Show package overview: description, top members, and available guides.
.TP
.B lrn \fIpackage\fR list
List all top-level members with their summaries.
.TP
.B lrn \fIpackage\fR list \-\-deep
List all members recursively, including nested children.
.TP
.B lrn \fIpackage\fR guides
List all guides with their summaries.
.TP
.B lrn \fIpackage\fR types
List all schema/type definitions.
.TP
.B lrn \fIpackage\fR tags
List all tags used in this package.
.SS Member Commands
.TP
.B lrn \fIpackage\fR \fImember.path\fR
Show full details for a member at the given path.
.TP
.B lrn \fIpackage\fR \fImember.path\fR \-\-summary
Show only the summary (one-liner).
.TP
.B lrn \fIpackage\fR \fImember.path\fR \-\-signature
Show only the type signature.
.TP
.B lrn \fIpackage\fR \fImember.path\fR \-\-examples
Show only the examples.
.TP
.B lrn \fIpackage\fR \fImember.path\fR \-\-parameters
Show only the parameters.
.SS Guide Commands
.TP
.B lrn \fIpackage\fR guide \fIslug\fR
Show guide overview: intro and section summaries (table of contents).
.TP
.B lrn \fIpackage\fR guide \fIslug\fR \-\-full
Show the complete guide content.
.TP
.B lrn \fIpackage\fR guide \fIslug\fR.\fIsection\fR
Show a specific section of the guide.
.SS Type/Schema Commands
.TP
.B lrn \fIpackage\fR type \fIname\fR
Show a schema/type definition.
.SS Search Commands
.TP
.B lrn search \fIquery\fR
Search across all cached packages.
.TP
.B lrn \fIpackage\fR search \fIquery\fR
Search within a specific package.
.SH OPTIONS
.SS Output Format
.TP
.B \-\-format \fIformat\fR
Output format. One of: \fBtext\fR (default for TTY), \fBjson\fR (default for pipes), \fBmarkdown\fR, \fBsummary\fR.
.TP
.B \-\-json
Shorthand for \fB\-\-format json\fR.
.TP
.B \-\-summary
Show minimal output (names and one-liners only).
.TP
.B \-\-full
Show complete details.
.SS Filtering
.TP
.B \-\-tag \fItag\fR
Filter results to items with this tag. Can be specified multiple times.
.TP
.B \-\-kind \fIkind\fR
Filter members by kind: function, method, class, namespace, constant, type, property.
.TP
.B \-\-deprecated
Include deprecated members (excluded by default in lists).
.SS Version Selection
.TP
\fIpackage\fR@\fIversion\fR
Use a specific version of a package. Supports semver ranges.
.SS Configuration
.TP
.B \-\-registry \fIurl\fR
Override the registry URL for this command.
.TP
.B \-\-config \fIpath\fR
Use a specific config file.
.TP
.B \-\-no\-config
Ignore config files, use defaults only.
.SS General
.TP
.B \-\-help, \-h
Show help message.
.TP
.B \-\-version, \-v
Show lrn version.
.TP
.B \-\-verbose
Show detailed output.
.TP
.B \-\-quiet, \-q
Suppress non-essential output.
.SH CONFIGURATION
.B lrn
looks for configuration in this order:
.IP 1. 4
\fB./lrn.config.json\fR (project root)
.IP 2. 4
\fB~/.lrn/config.json\fR (user home)
.IP 3. 4
Built-in defaults
.SS Configuration File Format
.nf
{
  "$schema": "https://lrn.dev/schema/config.json",
  "registry": "https://registry.lrn.dev",
  "cache": "~/.lrn",
  "defaultFormat": "text",
  "packages": {
    "stripe": "^2024.0.0",
    "internal-api": {
      "path": "./docs/internal-api.lrn.json"
    }
  }
}
.fi
.SH PROGRESSIVE DISCLOSURE
.B lrn
is designed for token-efficient access. Each command shows only what's needed:
.PP
.nf
lrn                          # package list
lrn stripe                   # package overview
lrn stripe list              # member list
lrn stripe charges           # namespace detail
lrn stripe charges.create    # full member detail
.fi
.SH EXAMPLES
.SS Basic Usage
.nf
# List cached packages
lrn

# Get Stripe API overview
lrn stripe

# List all Stripe endpoints
lrn stripe list

# Show specific endpoint details
lrn stripe charges.create
.fi
.SS Syncing Packages
.nf
# Sync packages from lrn.config.json
lrn sync

# Add a package
lrn add openai@^4.0.0
.fi
.SS Working with Guides
.nf
# List guides
lrn stripe guides

# Show guide table of contents
lrn stripe guide webhooks

# Show specific section
lrn stripe guide webhooks.verification
.fi
.SS LLM/Automation Usage
.nf
# JSON output for programmatic use
lrn stripe list --json | jq '.[]'

# Find all POST endpoints
lrn stripe list --deep --json | \\
  jq '.[] | select(.http.method == "POST")'
.fi
.SH ENVIRONMENT VARIABLES
.TP
.B LRN_REGISTRY
Override the default registry URL.
.TP
.B LRN_CACHE
Override the default cache directory.
.TP
.B LRN_FORMAT
Override the default output format.
.TP
.B NO_COLOR
Disable colored output.
.SH FILES
.TP
.B ~/.lrn/
Default cache directory.
.TP
.B ~/.lrn/config.json
User-level configuration file.
.TP
.B ./lrn.config.json
Project-level configuration file.
.TP
.B ~/.lrn/packages/
Cached package documentation files.
.SH EXIT STATUS
.TP
.B 0
Success.
.TP
.B 1
General error.
.TP
.B 2
Package not found.
.TP
.B 3
Member/guide not found.
.TP
.B 4
Network error.
.SH BUGS
Report bugs at: https://github.com/lrn-dev/lrn/issues
.SH AUTHORS
The lrn team.
.SH COPYRIGHT
MIT License.
